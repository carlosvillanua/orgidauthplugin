displayName: "Org ID Auth Plugin"
type: middleware

import: github.com/carlosvillanua/orgidauthplugin

summary: "Plugin to validate client IP against organization-specific allowed IPs stored in Valkey/Redis"

# Allow plugin to use unsafe and syscall packages for Redis connection management
useUnsafe: true

testData:
  redisAddr: "valkey-redis-master.traefik.svc.cluster.local:6379"
  redisUsername: "default"
  redisPassword: "traefik"
  orgHeader: "X-Org"
  poolSize: 10
  maxConnIdleTime: "5m"
  poolWaitTimeout: "2s"
  cacheTTL: "30s"
  cacheMaxSize: 1000